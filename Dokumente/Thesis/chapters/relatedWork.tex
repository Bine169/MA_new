\section{Related Work}

\subsection{KIT - Institute of Operations Research: discrete optimization and logistic}

The Karlsruhe Institute of Technology (KIT) was founded in 2006 by the amalgamation of the university of Karlsruhe and the research center Karlsruhe. Together both institutes form one of the biggest research and education constitution in the world which concentrates on selected research areas. On the Institute of Operations Research the staff members delve into the field of discrete optimization and logistic which includes districting, too. In progress of studies they have been implemented a library called Lizard which includes an algorithm for the solution of area distriction problems. The library can be downloaded for free, so an execution on given example data is possible. In addition to this, it is implemented into a Geographic Information System in the web browser. The algorithm of Lizard is based on the so called ''Recursive Partitioning Algorithm'' which was designed by \citeauthor{kalcsics}. The algorithm is a geometrically approach which divides the problem into sub problems to align territories that are balanced with respect to an activity value. the partition is done by placing a line into the dataset. Consequently a left problem (data left from the line) and a right problem (data right from the line) are created. Within the next steps additional lines are placed into the sub problems to divide them again into smaller ones. The number of sub problems depends on the number of distracted areas which should be created. The lines can have different directions which will be considered. These are all considered so that different partitions of sub problems exists. The sub problems are described by a binary tree whose root element complies the problem that should be solved. The different partition for the subdivisions are ranked by a heuristic measure for balance and compactness so that the partition with the best measure value can be chosen as result.

\begin{figureOwn}{a) Possible partitions using vertical lines, b)Two possible partitions with different compactness \cite{kalcsics}}{images/kit_alg.jpg}\end{figureOwn}

The steps of the partitions are presentable within Lizard. The download package of the algorithm already includes such example files which can be executed. The examples contains either point coordinates which are connected to an activity or line segments to visualize street segments. These are linked to an activity value too. It is recognizable that no given centres exists. Consequently the area distraction is not done considering given locations like it will be done during the approaches of that thesis. Before the algorithm im Lizard can be started some parameters need to be chosen. There exist input options for:
\begin{itemize}
	\item Number of areas: This number defines how much parts should be created.
	\item Number of line directions: These are necessary to define the position of the line which will be placed into the problem to divide into smaller parts.
	\item Balance Tolerance: The value determines the range which needs to be satisfied comparing the activity of the areas.
	\item Weight Balance: The value needs to be between 0 and 1 to determine the importance of a balanced activity of the areas. In case of 1 balance is most important, in case of 0 the balance is not important. Instead of this the compactness is most important.
	\item Compactness Measure: There exist different options how the compactness value is calculated. Some of the options call ConvexHullIntersection, MaximumDistance and WeightedPairwiseDistance. ConvexHullIntersection par example uses the circumference of the convex hulls of all district during the calculation of the compactness \cite{kit_lizard}. Consequently every mentioned option defines another approach of the calculation of the compactness rate.
	\item Bisecting Partition: With the help of this option the geometric object which divides the problem is selectable. The predefined option are lines how it is defined within the ''Recursive Partitioning Algorithm''. Additionally FlexZone and a combination of both can be chosen.
\end{itemize}

The visualisation of the result of the districting problem can be done step by step or showing just the final result. Showing the results in partial processes represents the approach of the algorithm dividing the problem into sub problems. The calculation of the tree is not recognizable, but the leaf with the best measuring value and thus the best calculation will be shown. Additionally information about other partition solutions are shown. In the following figure the algorithm is visualized for a districting problem where street segments should be divided into four balanced areas. The feasible balance tolerance is 0.1, the number of search directions are eight, the weight for the balance is 0.5 and the bisecting partition is done by a line. The results of the activity value for every sub regions are:


\setvalue{tableTitle=Activity values of resulting areas}

\begin{table}[H]
	\centering
\begin{tabular}{|*4{C{3cm}|}}
	\hline
	Blue area & Orange area & Green area & Red area\tabularnewline
	\hline
	12224 & 12208 & 12216 & 12210 \tabularnewline
	\hline
\end{tabular}
\end{table}


\begin{figureOwn}{Visualization of area districting in Lizard}{images/kit_liz.jpg}\end{figureOwn}

Dependent on different settings concerning the available options during the calculations different results can be achieved. Some examples are shown in the following figure. All calculations are done on the same data set as in the figure before. Just the settings where changed. In figure a) the importance of balance balance was set to 0, instead the compactness of the resulting areas should be most important. In figure b) the options is the other way around as in a), consequently the compactness is less important and the balance is most important. Figure c) shows th result of the disctricting problem if just one search directions are allowed for the lines which were put into the dataset.

\begin{figureOwn}{Results of the problem using different options}{images/kit_lizard_opt.jpg}\end{figureOwn}

\subsection{Easy Map District Manager}
The Lutum + Tappert DV-Beratung GmbH is one of the biggest companies in Germany which provide tools, data and services to do Geomarketing analyses. The company was founded in 1982.Consequently it was one of the pioneers in the German Geomarketing field. Already 1986 the first version of the Easy Map District Manager was sold. Thenceforth the software was emphasized by a lot of functions. Today Lutum + Tappert provide different attendances from the field of Geomarketing. The main field is the sale and application of their software Easy Map District Manager. With the help of this data of costumers, potentials of markets and data of the population can be visualized per example. Thus a costumized analyses is possible to realize marketing strategies, control the market and check some statistics. Additionally to the software Lutum + Tappert offer data which may be necessary to acquire new costumers or do more detailed analyses. Furthermore the offer services to help companies during their researches. \\
The most important tool for this thesis is the Easy Map District Manager.This one is provided in two different versions, which included different options and analyses functionality. The Easy Map Standard Desktop Edition is useful to create maps and do some geographically analyses. However the Easy Map District Manager Desktop Edition may necessary to do Area segmentation and planning of locations. Both editions are available as a demo version, consequently a deeper inside into the functionality of the software is possible. After the installing of the District Manager some sample data can be used to do some analyses. Therefore zip code areas of Hamburg and the neighbourhood of it are taken. The tool offers three possibilities to do area segmentation. The first one generates new areas if no distriction was done before. Within the test scenario a given number of areas are created by allocating the zip code areas to districts. The number of zip codes areas within every district should be as balanced as possible compared to the others. After the allocation is done locations are set into the middle of the area to show the position of possible new company sites. These approach is similar to the Greenfield analyses which will be explained later. The second functionality uses an distribution of areas that already exists. The containing zip code areas in every superior area will be rearranged if it is necessary to get a balanced area segmentation concerning the number of zip code areas within every district. Existing locations within that dataset are not heeded during the rearrangement. The third option uses just existing locations. With the help of these sites the zip code areas are allocated in this way that every locations is placed within one district. Additionally every district should have the same number of zip code areas again. These two provided functions are both from the field of the optimization of area segmentation. In reality often additional data are used during the rearrangement per example the number of households or the purchasing power. These information are used during the area segmentation and are often the parameter which should be balanced. Such a use case was not possible to test because such data are not available for the chosen area. Nevertheless an analyses concerning the number of postcode areas can be done so that an inspection of the results can be done. It is recognizable that the resulting areas are mostly coherent but there is no need to get an absolutely coherent district. Especially at borders to other regions some postcode areas are located inside of the neighboured region. Consequently it is not connected directly to the superior district which it belongs to. Thus the conclusion can be achieved that no checking of coherence will be done. By that reason the islands of the north sea do not lead to some problems during the allocation. 

\begin{figureOwn}{Creating twenty areas with Easy Map District Manager concerning a balanced number of zip codes areas for each district. The clipping shows the creation of incoherent areas.}{images/easymap.jpg}\end{figureOwn}


After doing the area segmentation the locations are placed into the middle of the appropriate district. In this case no other placement can be chosen. Just if an optimization of company sites should be done the locations can be placed into the weighted centroid of the district, too. Furthermore it is recognizable that no new locations can be added to the area where already a certain number of sites exist. But this will be necessary if a new company sites need to be opened. This fact will be described later on with the help of the term Whitespot analyses. \\
Nevertheless the Easy Map Manager offers a lot of possibilities to do some Geomarketing analyses. With the help of video tutorials on the website of the company working with the software is easy. Consequently no time consuming contraction is necessary. 

\subsection{SIM Tool}
