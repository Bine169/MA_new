% ===================================
% Einbindung von Erweiterungspaketen
% ===================================

\usepackage[latin1]{inputenc}%		Kodierung des Eingabezeichensatzes fuer das Dokument - 'latin1' (ISO-8859-1)
\usepackage[ngerman, english]{babel}%			Verwendung der neuen deutschen Rechtschreibung mit 'ngerman'
													 %			'babel' kann Optionen fuer mehrere Sprachen zugleich enthalten
													 %			\selectlanguage{sprache} wechselt zw. verschiedenen Sprachen										Paket legt das Aussehen der Anfuehrungszeichen fest; Kommando \enquote{} setzt den Text zw. Klammern in 

% --- Paket zur Festsetzung des Raumes zwischen den Zeilen
\usepackage{setspace}
\onehalfspacing%	1.5facher Zeilenabstand abhaengig von der verwendeten Schriftgroesse

% --- Paket zur Behebung einiger Inkompatibilitaeten von anderen Paketen mit KOMA-Script
\usepackage{scrhack}

% --- Paket fuer erweiterte Tabelleneigenschaften
\usepackage{array}

% --- Paket um Grafiken im Dokument einbetten zu koennen
% --- In pdfLaTeX sind GIF, PNG und PDF Grafiken moeglich
\usepackage{graphicx}%	Hauptpaket zur Einbindung von Graphiken	

% --- Paket erweitert deutlich die Verwendung von Farben aus dem Paket 'graphicx'
\usepackage{color}

% --- Paket um Quellcode sauber zu formatieren
% --- Alternative Pakete sind 'verbatim', 'moreverb' oder 'fancyvrb'
\usepackage{listings}

% --- Darstellung von Pseudocode und mehr (algorithmicx packages)
\usepackage{algorithm}
\usepackage{algpseudocode}

% --- Einstellungen des Einzugs
\usepackage{parskip}%		Einzug aus, Absatzabstand ein

% --- Eigene flexible Gestaltung der Kopf- und Fusszeile moeglich
\usepackage{fancyhdr}

% --- Programmiersprachentypische Kontrollstrukturen (logische Verzweigungen und Schleifen)
\usepackage{ifthen}

% --- zur Erzeugung eines Stichwortverzeichnisses
%\usepackage{makeidx}

\usepackage[numbers]{natbib}

 %--- Paket zur Erzeugung von Hypertext-Links aus LaTeX Querverweisen
\usepackage[%
	bookmarks,%						Erzeugung von Lesezeichen fuer den Reader
	raiselinks,%					Korrektur in der Linkausgabe
	pageanchor,%					PDF-Ankererzeugung auf jeder Seite, um Inhaltsverzeichnis mit Hypertext-Links zu versehen
%	frenchlinks,%					use small caps instead of color for links
	colorlinks,%					Verwendung von farbiger Links statt Links mit Rahmen
% Farben der Linkarten (...color=...)
	citecolor=green,%			Color for bibliographical citations in text
	linkcolor=black,%			Color for normal internal links
	urlcolor=blue,%		Color for linked URLs					
	filecolor=cyan,%			Color for URLs which open local files
	menucolor=red,%				Color for Acrobat menu items
	pagebackref%					Adds 'backlink' text to the end of each item in the bibliography, as a list of page numbers
]{hyperref}

% --- Layout-Aenderung leicht moeglich (Erweiterung von dem Paket 'vmargin')
% --- !!! Bei Verwendung des Paketes 'hyperref' muss die Einbindung von 'geometry' nach 'hyperref' erfolgen !!!
\usepackage[%
	left=3cm,right=2.5cm,top=1.5cm,bottom=1.5cm,%		Groesse der Raender
	headheight=7mm,headsep=1.2cm,%									Hoehe der Kopfzeile; Abstand der Grundlinie der Kopfzeile zum Haupttext
	footskip=1.5cm,includeheadfoot%									Abstand der Grundlinien der letzten Textzeile und der Fusszeile; Kopf- und Fusszeile werden in die Textseite gesetzt
]{geometry}

% --- to define a own color
\usepackage[usenames,dvipsnames]{xcolor}

% --- to allow custom headings
\usepackage{titlesec}

% --- to change titles font family
\usepackage{titling}

% --- to adjust tableofcontent
\usepackage{titletoc}

% --- to create colorboxes
\usepackage{tcolorbox}

% --- Seiten-Layout der Kopf- und Fusszeile
\usepackage{fancybox}

% --- to insert URLs
\usepackage{url}

% --- to insert figures in a floating environment
\usepackage{float}

% --- erlaubt eine Anpassung von Bild- und Tabellenbeschriftungen
\usepackage[font=small,labelfont=it,textfont=it,labelsep=newline,singlelinecheck=false,justification=raggedleft,labelfont={color=GigaGreen}]{caption}

% --- to manipulate lists
\usepackage{paralist}

% ---for changing the margin of lists
%\usepackage{enumitem}

% ---to nummerate figures dependent on section
\usepackage{chngcntr}

\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}

\usepackage{colortbl}


\usepackage{ifoddpage}

\usepackage{fancyvrb}

\usepackage{afterpage}

% ===========================
%Define GiGa Color
% ===========================
\definecolor{GigaGreen}{RGB}{0,152,138}


  %let\stdsubsection\subsection
   %\renewcommand\subsection{\newpage\stdsubsection}


% ===========================
% Style Font
% ===========================

% define necessary Font familys
% ====================
% --- whole document

\newfontfamily\colorednormalfont[Color=GigaGreen]{Geogrotesque-UltraLight}

% --- font in notes
\newfontfamily\notefont[Color=white]{Geogrotesque-SemiBold}

% --- font for titles
\newfontfamily\headingfont[Color=GigaGreen]{Geogrotesque-SemiBold}

%  define different font sizes
% ====================
\newcommand{\sizefront}{\fontsize{45}{45}\selectfont}
\newcommand{\sizechapter}{\fontsize{25}{25}\selectfont}
\newcommand{\sizesection}{\fontsize{25}{25}\selectfont}
\newcommand{\sizesubsection}{\fontsize{20}{20}\selectfont}
\newcommand{\sizesubsubsection}{\fontsize{15}{15}\selectfont}
\newcommand{\sizparagraph}{\fontsize{15}{15}\selectfont}
\newcommand{\sizenote}{\fontsize{13}{13}\selectfont}

% Font of Titles
% ==========
\defaultfontfeatures{Ligatures=TeX}
\titleformat{\chapter}[block]{}{}{0pt}{\huge\sizechapter\textbf}
\titleformat*{\section}{\sizesection \bfseries}
\titlespacing*{\section}{0pt}{12pt plus 4pt minus 2pt}{1em}
\titleformat*{\subsection}{\sizesubsection}
\titleformat*{\subsubsection}{\sizesubsubsection}

\setcounter{secnumdepth}{4}

\usepackage{romannum}
\renewcommand{\theparagraph}{\Roman{paragraph}}

\titleformat{\paragraph}
{ \doublespacing \normalfont \sizparagraph \bfseries}{\theparagraph}{1em}{\underline }
\titlespacing*{\paragraph}
{18pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

% ===========================
%  Table of Content
% ===========================

%  define depth
% ====================
\setcounter{secnumdepth}{4} 
\setcounter{tocdepth}{4}

%  define distances and style
% ====================
\titlecontents{section}[2.2em]{\addvspace{1pc}\bfseries}{\contentslabel{2.2em}}{}{\titlerule*[0.3pc]{.}\contentspage}
\titlecontents{subsection}[5.2em]{}{\contentslabel{2.95em}}{}{\titlerule*[0.3pc]{.}\contentspage}
\titlecontents{subsubsection}[8em]{}{\contentslabel{3em}}{}{\titlerule*[0.3pc]{.}\contentspage}


% ===========================
%  Margin Label
% ===========================

%\renewcommand{\subsubsection}[1]
%{\textcolor{GigaGreen}{\rule{\textwidth}{.4pt}} \mbox{}\marginpar{\raggedleft\hspace{0pt} \sizenote \headingfont #1  } \normalfont \addcontentsline{toc}{subsubsection}{#1}}
%{\mbox{}\marginpar{\raggedleft\hspace{0pt} \sizenote \headingfont #1  \textcolor{GigaGreen}{\rule{3cm}{.4pt}}} \normalfont \addcontentsline{toc}{subsubsection}{#1} \par\vspace{1cm}}

%\newcommand{\marginlabelsubsection}[1]
%{\mbox{}\marginpar{\flushleft\hspace{0pt} #1 \textcolor{GigaGreen}{\rule{17.3cm}{.4pt}}}}

\renewcommand{\marginlabel}[1]
{\mbox{}\marginpar{\raggedleft\hspace{0pt}\small#1 }}


\setlength{\parindent}{0em}
\setlength{\oddsidemargin}{1.5cm}
\setlength{\evensidemargin}{1.5cm}
\addtolength{\textwidth}{-1.7cm}
\setlength{\marginparwidth}{3cm} %size of marginlabel
%\setlength{\marginparsep}{0.5cm} %distance between text and margin label


% ===========================
%  new Environments
% ===========================

%  subsubsection
% ====================
%\renewenvironment{subsubsection}[1]{
%\setlength{\marginparwidth}{15cm}
%\marginlabelsubsection{\sizenote \headingfont #1}
%\setlength{\marginparwidth}{3cm}
%\addcontentsline{toc}{subsubsection}{#1}
%\vspace{0.5cm}
%\noindent
%}

%  figures
% ====================


\counterwithin{figure}{section}


\newenvironment{figureMA}[2]{
\marginlabel{\captionof{figure}{#1}}
\raisebox{-\height}{\includegraphics[width=1\textwidth]{#2}}
\vspace*{0.5cm}
}

% ExampleBox
% ====================
\newenvironment{exampleGiGaEckig}[1]{
\noindent\fcolorbox{GigaGreen}{white}{\parbox{\textwidth}{
\headingfont Example: \newline \normalfont #1}}
}

\newenvironment{exampleGiGa}[1]{
\begin{tcolorbox}[colback=GigaGreen!0!white,colframe=GigaGreen!100!black]
\headingfont Example: \newline \normalfont #1
\end{tcolorbox}
}


%  notes
% ====================
\newenvironment{note}[1]{
\begin{tcolorbox}[colback=GigaGreen!5!white,colframe=GigaGreen!100!black,title=\notefont \sizenote Note]
\normalfont #1
\end{tcolorbox}
}

%\begin{tcolorbox}[colback=GigaGreen!5!white,colframe=GigaGreen!75!black,title=\notefont \sizenote Note]

\newenvironment{noteVarTitle}[2]{
\begin{tcolorbox}[colback=GigaGreen!5!white,colframe=GigaGreen!100!black,title=\notefont \sizenote #1]
\normalfont #2
\end{tcolorbox}
}


% ===========================
%  new Commands
% ===========================

%  commands
% ====================
\newcommand{\command}[1]{\emph{\texttt{#1}}}


%refer
\newcommand{\refer}[2]{\hyperref[#1]{#2} on page \pageref{#1}}

%referEx
\newcommand{\referEx}[2]{\hyperref[#1]{#2} explained on page \pageref{#1}}


% =====================================
% Pagestyle
% =====================================
% Vordefinierter Seitenstil
%\pagestyle{empty}%		Fuss- und Kopfzeile mit Informationenangaben und Seitennummer gemaess der gewaehlten Dokumentenklasse

% Eigene flexible Gestaltung mit dem Paket 'fancyhdr'
\pagestyle{fancy}%		Flexibler Stil mit dem Paket 'fancyhdr'

% =====================================
% Header & Footer
% =====================================

%  create Box on page number
% ====================
\newcommand\Cshadowbox{\VerbBox\@Cshadowbox}
	\def\@Cshadowbox#1{%
		\setbox\@fancybox\hbox{\fbox{#1}}%
  		\leavevmode\vbox{%
			    \offinterlineskip
			    \dimen@=1pt
			    \advance\dimen@ .5\fboxrule
			    \hbox{\copy\@fancybox\kern8\fboxrule\lower\shadowsize\hbox{%
				      \color{GigaGreen}\vrule \@height\ht\@fancybox \@depth\dp\@fancybox \@width\dimen@}}%
			    \vskip\dimexpr-\dimen@+0.5\fboxrule\relax
			    \moveright\shadowsize\vbox{%
				      \color{GigaGreen}\hrule \@width\wd\@fancybox \@height\dimen@}
		}
	}

%  adjust Footer & Header
% ====================
\renewcommand{\footrule}{\hbox to\headwidth{\color{GigaGreen}\leaders\hrule height \footrulewidth\hfill}}
\renewcommand{\headrule}{\hbox to\headwidth{\color{GigaGreen}\leaders\hrule height \headrulewidth\hfill}}
\renewcommand{\headrulewidth}{0.0pt}%		Kopflinie
\renewcommand{\footrulewidth}{0.0pt}%			Fusslinie
\fancyhf{}%		Loeschen der Vorbelegung

\fancyhead[L]{{\normalfont\small\nouppercase{\leftmark}}}
\fancyfoot[R]{\normalfont\small\bfseries\thepage}%	Ausgabe der Seitenzahl im Kopf rechts in kleinen, serifenlosen und fetten Schrift
\fancyfoot[L]{\small\bfseries\normalfont Area segmentation algorithms}%	Ausgabe der Seitenzahl im Kopf rechts in kleinen, serifenlosen und fetten Schrift		

\fancypagestyle{plain}{%		zu Beginn von Kapiteln schaltet LaTeX den Seitenstil der ersten Kapitelseite automatisch auf 'plain'. Dieser Seitenstil kann durch 'fancyhdr' umdefiniert werden mit Hilfe von '\fancypagestyle{plain}{Stildefinition}'
	\fancyhf{}%		Loeschen der Vorbelegung
	\fancyfoot[R]{\normalfont\small\sffamily\bfseries\thepage}%	Ausgabe der Seitenzahl im Kopf rechts in kleinen, serifenlosen und fetten Schrift
	\fancyfoot[L]{\small\sffamily\bfseries \normalfont Area segmentation algorithms}%	Ausgabe der Seitenzahl im Kopf rechts in kleinen, serifenlosen und fetten Schrift	
	\renewcommand{\headrulewidth}{0.0pt}%		Kopflinie
	\renewcommand{\footrulewidth}{0.0pt}%			Fusslinie
}




